<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Revenge Arc - Pudding</title>
  <!-- Google Fonts for futuristic typography -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Orbitron:400,700&display=swap" />
  <!-- Include CCapture.js for capturing animations (via unpkg) -->
  <script src="https://unpkg.com/ccapture.js@1.1.0/build/CCapture.all.min.js"></script>
  <style>
    /* Global Reset & Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      width: 100%;
      height: 100%;
      font-family: 'Orbitron', sans-serif;
      background-color: #000;
      color: #fff;
      scroll-behavior: smooth;
    }
    a {
      color: #fff;
      text-decoration: none;
    }
    button {
      font-family: inherit;
      padding: 10px 16px;
      margin: 5px;
      background: #222;
      border: 1px solid #333;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s ease, border-color 0.3s ease;
      font-size: 1.1em;
    }
    button:hover {
      background: #00ff00;
      border-color: #00ff00;
    }
    /* Custom file upload button */
    .upload-button {
      display: inline-block;
      padding: 12px 20px;
      background: #222;
      border: 2px solid #333;
      color: #fff;
      cursor: pointer;
      font-size: 1.2em;
      transition: background 0.3s ease, border-color 0.3s ease;
    }
    .upload-button:hover {
      background: #00ff00;
      border-color: #00ff00;
    }
    /* Hide default file input */
    #textureUpload {
      display: none;
    }
    
    /* Header Navigation */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      background: rgba(0, 0, 0, 0.8);
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #222;
    }
    header .logo {
      font-size: 1.8em;
      font-weight: bold;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 20px;
    }
    nav ul li {
      transition: color 0.3s ease;
    }
    nav ul li:hover {
      color: #00ff00;
    }
    
    /* Custom Cursor */
    .custom-cursor {
      position: fixed;
      width: 20px;
      height: 20px;
      border: 2px solid #fff;
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
      transition: transform 0.1s ease;
      mix-blend-mode: difference;
      z-index: 10000;
    }
    
    /* Hero Section */
    .hero {
      height: 100vh;
      background: url('hero.jpg') center center / cover no-repeat;
      position: relative;
    }
    .hero::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
    }
    .hero-content {
      position: relative;
      z-index: 2;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 0 20px;
    }
    .hero-content .tagline {
      font-size: 1.5em;
      margin-bottom: 20px;
      font-weight: bold;
    }
    .hero-content h1 {
      font-size: 4em;
      margin-bottom: 20px;
      text-shadow: 2px 2px 10px #000;
    }
    .hero-content p {
      font-size: 1.5em;
      max-width: 800px;
    }
    
    /* Section Base Styles */
    .section {
      padding: 80px 20px;
      text-align: center;
      background: #111;
    }
    .section:nth-of-type(even) {
      background: #0d0d0d;
    }
    .section h2 {
      font-size: 2.5em;
      margin-bottom: 20px;
    }
    .section p {
      font-size: 1.2em;
      max-width: 800px;
      margin: 0 auto 20px;
      line-height: 1.5;
    }
    
    /* Gallery Section (Masonry Layout) */
    #gallery .gallery-container {
      column-count: 3;
      column-gap: 10px;
      padding: 10px;
    }
    #gallery .gallery-container img {
      width: 100%;
      margin-bottom: 10px;
      display: block;
      border: 3px solid #333;
      transition: transform 0.3s ease, border-color 0.3s ease;
    }
    #gallery .gallery-container img:hover {
      transform: scale(1.05);
      border-color: #00ff00;
    }
    
    /* Social Hub Section */
    #social .social-buttons {
      margin: 20px 0;
    }
    
    /* Interactive 3D Model Section */
    #interactive .upload-container {
      margin-bottom: 20px;
    }
    #three-canvas {
      display: block;
      margin: 20px auto;
      background: #000;
      border: 1px solid #333;
    }
    #interactive .download-buttons {
      margin-top: 10px;
    }
    #interactive .download-buttons button {
      font-size: 1.3em;
      padding: 12px 20px;
    }
    
    /* Footer */
    footer {
      padding: 20px;
      text-align: center;
      background: #000;
      border-top: 1px solid #222;
    }
    footer p {
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <!-- Custom Cursor -->
  <div class="custom-cursor" id="cursor"></div>
  
  <!-- Header Navigation -->
  <header>
    <div class="logo">Revenge Arc</div>
    <nav>
      <ul>
        <li><a href="#hero">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#gallery">Crypto Chronicles</a></li>
        <li><a href="#social">Social Hub</a></li>
        <li><a href="#interactive">3D Model</a></li>
      </ul>
    </nav>
  </header>
  
  <!-- Hero Section -->
  <section class="hero" id="hero">
    <div class="hero-content">
      <div class="tagline"></div>
      <h1>Revenge Arc</h1>
      <p>
        Your coins are down, and you know exactly who did it. Welcome to the Revenge Arc.<br><br/>contract address: EuB5t83CgdbT99s5tDDbpbvc2CN1ikytPjJDnt5spump
      </p>
    </div>
  </section>
  
  <!-- About Section -->
  <section class="section" id="about">
    <h2>About Revenge Arc</h2>
    <p>
      From the ashes of broken promises emerged Pudding—the unlikely hero with a name deceivingly sweet. Don't get it twisted: when the rug pulls hit hard, we fight back. Revenge Arc is where we reclaim our power, one bold move at a time.
    </p>
    <p>
      This is more than a project; it’s a rallying cry for crypto warriors ready to flip the narrative and take what's theirs.
    </p>
  </section>
  
  <!-- Gallery Section -->
  <section class="section" id="gallery">
    <h2>Posted up in the cut</h2>
    <p>
      I'm outside. I really do this.
    </p>
    <div class="gallery-container">
      <img src="gallery1.jpg" alt="Gallery Image 1">
      <img src="gallery2.jpg" alt="Gallery Image 2">
      <img src="gallery3.jpg" alt="Gallery Image 3">
      <img src="gallery4.jpg" alt="Gallery Image 4">
      <img src="gallery5.jpg" alt="Gallery Image 5">
      <img src="gallery6.jpg" alt="Gallery Image 6">
    </div>
  </section>
  
  <!-- Social Hub Section -->
  <section class="section" id="social">
    <h2>Social Hub</h2>
    <p>
      The revolution isn’t complete without you. Connect with fellow Pudding supporters who’ve seen it all in the trenches. Share your story, vent your frustrations, or simply make memes.
    </p>
    <div class="social-buttons">
      <button onclick="window.open('https://x.com/i/communities/1932163589294670196', '_blank')">Twitter</button>
      <button onclick="window.open('https://pump.fun/coin/EuB5t83CgdbT99s5tDDbpbvc2CN1ikytPjJDnt5spump', '_blank')">Pump.fun</button>
    </div>
    <p>Stay tuned for live updates and community shout-outs!</p>
  </section>
  
  <!-- Interactive 3D Model Section -->
  <section class="section" id="interactive">
    <h2>Show Your Support</h2>
    <p>
      Upload your photo to texture our 3D model—a defiant symbol of crypto resilience. Watch as your image transforms this digital relic into a living testament of revenge. Then capture a 5‑second clip as a GIF or MP4 to share your own slice of this revolution.
    </p>
    <div class="upload-container">
      <label for="textureUpload" class="upload-button">Click to upload your 3D image</label>
      <input type="file" id="textureUpload" accept="image/*">
    </div>
    <canvas id="three-canvas" width="800" height="400"></canvas>
    <div class="download-buttons">
      <button id="downloadGIF" disabled>Download as GIF</button>
      <button id="downloadMP4" disabled>Download as MP4</button>
    </div>
  </section>
  
  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Revenge Arc. All rights reserved.</p>
  </footer>
  
  <!-- Include Three.js, CCapture.js and html2canvas Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    // Custom Cursor Movement
    const cursor = document.getElementById('cursor');
    document.addEventListener('mousemove', (e) => {
      cursor.style.left = e.clientX + 'px';
      cursor.style.top = e.clientY + 'px';
    });
    
    // --- Interactive 3D Model Code (No Modal) ---
    const threeCanvas = document.getElementById('three-canvas');
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, threeCanvas.width / threeCanvas.height, 0.1, 1000);
    // Configure renderer with preserveDrawingBuffer so we can export later
    const renderer = new THREE.WebGLRenderer({ 
      canvas: threeCanvas, 
      antialias: true,
      preserveDrawingBuffer: true
    });
    renderer.setSize(threeCanvas.width, threeCanvas.height);
    
    // Create a cube with a default material (wireframe)
    const geometry = new THREE.BoxGeometry();
    let material = new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe: true });
    const cube = new THREE.Mesh(geometry, material);
    scene.add(cube);
    camera.position.z = 3;
    
    let textureUploaded = false;
    let capturer = null;
    let capturing = false;
    
    // Animation loop (integrated with CCapture)
    function animate() {
      requestAnimationFrame(animate);
      cube.rotation.x += 0.01;
      cube.rotation.y += 0.01;
      renderer.render(scene, camera);
      if (capturing && capturer) {
        capturer.capture(renderer.domElement);
      }
    }
    animate();
    
    // File upload event: load image as texture directly without popup
    document.getElementById('textureUpload').addEventListener('change', function(event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const textureLoader = new THREE.TextureLoader();
          textureLoader.load(e.target.result, function(texture) {
            cube.material = new THREE.MeshBasicMaterial({ map: texture });
            cube.material.needsUpdate = true;
            textureUploaded = true;
            // Enable download buttons now that texture is set
            document.getElementById('downloadGIF').disabled = false;
            document.getElementById('downloadMP4').disabled = false;
          });
        };
        reader.readAsDataURL(file);
      }
    });
    
    // Start capturing for 5 seconds then stop and save
    function startCapturing() {
      capturing = true;
      capturer.start();
      setTimeout(stopCapturing, 5000);
    }
    function stopCapturing() {
      capturing = false;
      capturer.stop();
      capturer.save();
    }
    
    // Download as GIF button event
    document.getElementById('downloadGIF').addEventListener('click', () => {
      if (!textureUploaded) return;
      capturer = new CCapture({ format: 'gif', workersPath: '' });
      startCapturing();
    });
    
    // Download as MP4 button event (using webm format)
    document.getElementById('downloadMP4').addEventListener('click', () => {
      if (!textureUploaded) return;
      capturer = new CCapture({ format: 'webm', framerate: 60 });
      startCapturing();
    });
    // --- End of Interactive 3D Model Code ---
  </script>
</body>
</html>
